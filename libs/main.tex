% Shared preamble and styling for CV documents

% ---------- Packages ----------
\usepackage[margin=1.6cm]{geometry}
\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{tabularx}
\usepackage{titlesec}
\usepackage{parskip}
\usepackage{fontspec}
\usepackage{paracol}
\usepackage{multicol}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{ifthen}

% ---------- Style ----------
\setlength{\parindent}{0pt}
\definecolor{Accent}{HTML}{1F4E79}
\definecolor{Muted}{HTML}{555555}

\defaultfontfeatures{Ligatures=TeX}
\setmainfont{Roboto}
\newfontfamily\headingfont{Montserrat}[
  UprightFont = {Montserrat SemiBold},
  BoldFont    = {Montserrat ExtraBold}
]

\hypersetup{
  colorlinks=true,
  urlcolor=Accent,
  linkcolor=Accent
}

\titleformat{\section}{\Large\headingfont\bfseries\color{Accent}}{}{0pt}{}[\titlerule]
\titlespacing*{\section}{0pt}{10pt}{6pt}

\newcommand{\cvtitle}[1]{{\Huge\headingfont\bfseries #1}}
\newcommand{\cvsubtitle}[1]{{\large\headingfont\color{Muted} #1}}
\newcommand{\cvitem}[2]{\textbf{#1}\\#2}
\newcommand{\dateright}[1]{\hfill{\color{Muted}#1}}
\newcommand{\roleheader}[3]{% role, company/location, date
  \textbf{#1} \dateright{#3}\\
  {\color{Muted}#2}\\
}
\newcommand{\resumeentry}[3]{% date, company/location, role
  {\color{Muted}\small #1}\\[-2pt]
  #2\\[-1pt]
  {\headingfont\bfseries #3}\par\nobreak\vspace{-\parskip}\vspace{0pt}%
}
\newcommand{\entryspace}{\vspace{6pt}}

\newenvironment{cvbullets}{
  \begin{itemize}[leftmargin=*, itemsep=2pt, topsep=4pt, partopsep=0pt]
}{
  \end{itemize}
}

% Sidebar helpers
\newcommand{\sidetitle}[1]{\vspace{6pt}{\headingfont\bfseries\large #1}\par\vspace{4pt}}
\newcommand{\contactitem}[2]{\textbullet\hspace{4pt}#1\hspace{6pt}#2\\}
\newcommand{\profilephoto}[1]{%
  \IfFileExists{#1}{%
    \begin{center}
      \begin{tikzpicture}
        \clip (0,0) circle (2.35cm);
        \node at (0,0) {\includegraphics[width=4.7cm]{#1}};
      \end{tikzpicture}
    \end{center}
  }{}
}
\newcommand{\skillbar}[2]{%
  \noindent\textbf{#1}\\[-2pt]
  \begingroup
    \color{Accent!15}\rule{10em}{4pt}%
    \kern-10em\color{Accent}\rule{#2}{4pt}%
  \endgroup\\[6pt]
}
